# 「イークラウド広告メーカー」

## ①課題内容（どんな作品か）
- 前提
  - 弊社は、個人投資家が非上場企業に投資できる「株式投資型クラウドファンディング」というサービスを扱っています。
  - 私の業務の一つに「案件の紹介広告をたくさん作る」というのがあります。
  - 最近は月に2案件くらい扱っています。そして1案件につき、メール、SNS合わせて約20件の広告をつくっています。
  - これはマジで付帯業務のごく一部にすぎず、コア業務はまた別にいっぱいあります。
  - 広告審査チームに作成時のミスを指摘されることが多く、ここを自動化できるとミスも減りますし、本当に時間をかけるべき業務やジーズの勉強にかけられる時間が増えるぞ。と思って作りました。
  - 現在の業務プロセスは以下
    - Googleスプレッドシートで広告を作成(井上)
    - Googleスプレッドシートで回覧・審査(広告審査チーム)
    - 各メディア(メール、SNS等)の管理画面で入稿(井上)

- 機能
  - 案件の基本情報(タイトル、開示期間、募集期間、etc.)を入力すると、現在イークラウドの公式LINEアカウントから定形文で送っている広告が4種類生成される。
- 本当はバナーと一緒に送るやつで、バナーはどのみち手作業で作らねばならないのだが、文章が自動化されるだけでもまあまあありがたい

## ②工夫した点・こだわった点
- スプシに貼付できる
  - 業務の後工程で他部署に回覧する、専用のスプレッドシートがあります。ここに貼付できる形式で、テキストファイルへ書き込みできるようにしました。

## ③難しかった点・次回トライしたいこと(又は機能)
### 難しかったこと・シェア
- POSTで取得した日付の扱い
  - date()関数で整形するには

- PHPの文法(表示まわり)
  - 改行の扱い
    - 書き出したときにスプシ(or Excel)に貼り付けられるようにしたいが、1セルに対して改行を使い、複数行にわたる内容を書き出すための書き方がわからなかった。
    - スプシに入力する際、CSVで読み込みという形にして、シングルクオートとダブルクオートを駆使すればできるのではないか。。というところまでは考えた

  - 文字列結合
    - 文字列ををシングルクオートで囲って、変数とピリオドで繋げてみたいなのが地味に面倒くさい。
    - JavaScriptでいうテンプレートリテラルみたいなのが本当はあるんじゃないかと思っており、次の課題からちゃんと調べて使いたい

### 感想

- JavaScriptだとものすごく面倒だったことが一瞬でできて感動した
  - 日付をyymmddの形式に変換するなど(CTAのパラメータに使うため、この形式じゃなきゃいけない)

- 身も蓋もないし、作りながら察したのだが
  - たぶん全体的に、この要件だったら、そもそもGASでやるべきなんだろうな…と思っている

###  参考記事
- PHP
  -  [【HTML】【PHP】<input type="date">で取得した日付フォーマットの変更の仕方について](https://qiita.com/kkazu533/items/a819d04951437bbb5748)
  - [PHPでの日付取得方法！ 詳細まとめました](https://eng-entrance.com/php-date)


https://www.koikikukan.com/archives/2013/06/07-000300.php
https://web-camp.io/magazine/archives/100045
